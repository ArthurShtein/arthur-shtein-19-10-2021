(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{113:function(e,t,c){},136:function(e,t,c){},140:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){},144:function(e,t,c){},145:function(e,t,c){},147:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(32),s=c.n(r),i=(c(113),c(45)),o=c(16),u=c(11),l=c(15),j={padNum:function(e){var t=e+"";return 1===t.length?"0"+t:t},checkFavouritesDuplication:function(e){var t=[],c=b("favourites");return c?((t=c).push(e),O("favourites",t),t):(t.push(e),O("favourites",t),t)},saveToStorage:O,loadFromStorage:b,cToF:function(e){var t=5*(e-32)/9;return Math.floor(t)}};function O(e,t){var c=JSON.stringify(t);localStorage.setItem(e,c)}function b(e){var t=localStorage.getItem(e);return JSON.parse(t)}var f=c(24),d=c.n(f),h=c(40),p=c(64),v=c.n(p),m={getCurrentLocation:function(e){return x.apply(this,arguments)},getAutoComplete:function(e){return S.apply(this,arguments)},getFiveDaysForecast:function(e){return T.apply(this,arguments)},organizeAutoComplete:function(e){return e.map((function(e){return{label:e.LocalizedName,Key:e.Key}}))},checkFavourites:function(e){var t=[],c=j.loadFromStorage("favourites");c&&(t=c);if(t.find((function(t){return t.cityName===e.cityName}))){var a=t.filter((function(t){return t.cityName!==e.cityName}));return j.saveToStorage("favourites",a),a}return t.push(e),j.saveToStorage("favourites",t),t}},y="4aBBAPNL6URV8G56agI6OJks01WPFlSa";function x(){return(x=Object(h.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(y));case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){return(S=Object(h.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(y,"&q=").concat(t));case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function T(){return(T=Object(h.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(y));case 3:return c=e.sent,a=c.data,e.abrupt("return",a.DailyForecasts);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(e){return function(){var t=Object(h.a)(d.a.mark((function t(c){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getFiveDaysForecast(e);case 2:a=t.sent,c({type:"SET_FIVE_DAYS_FORECAST",fiveDaysResult:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}c(136);var C=c(2),N=function(e){var t=e.city,c=t.cityName,a=t.cityKey,n=t.temp,r=t.icon,s=Object(l.c)((function(e){return e.weatherModule.isCelcius})),i=Object(o.f)(),u=Object(l.b)(),O=j.cToF(n);return Object(C.jsxs)("div",{className:"single-fav-container",onClick:function(){var e,t;u((e=a,function(t){t({type:"SET_CITY_KEY",key:e})})),u((t=c,function(e){e({type:"SET_CURRENT_LOCATION",name:t})})),i.push({pathname:"/"})},children:[Object(C.jsx)("img",{className:"main-img",src:"https://developer.accuweather.com/sites/default/files/".concat(j.padNum(r),"-s.png"),alt:""}),Object(C.jsxs)("h2",{children:[c," "]}),s?Object(C.jsxs)("p",{children:[" ",O,"C\xb0 "]}):Object(C.jsxs)("p",{children:[" ",n,"F\xb0 "]})]})},F=(c(140),function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],r=JSON.parse(localStorage.getItem("favourites")),s=Object(l.c)((function(e){return e.weatherModule.favourites}));return r&&(s=r),Object(a.useEffect)((function(){n(s)}),[]),Object(C.jsx)("div",{className:"favourites-container",children:c.map((function(e,t){return Object(C.jsx)(N,{city:e},t)}))})}),E=(c(141),function(){return Object(C.jsxs)("header",{children:[Object(C.jsx)("div",{children:" Weather App "}),Object(C.jsxs)("div",{className:"links",children:[Object(C.jsx)(i.b,{to:"/",children:" Home "}),Object(C.jsx)(i.b,{to:"/favourites",children:" Favourites "})]})]})}),w=c(17),_=c(203),I=c(202),k=c(204),A=(c(142),c(205)),R=c(94),D=c.n(R),M=c(93),L=c.n(M),K=function(e){e.cityName;var t=Object(l.b)(),c=Object(a.useState)(!1),n=Object(u.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(""),o=Object(u.a)(i,2),O=(o[0],o[1]),b=Object(l.c)((function(e){return e.weatherModule.singleForecast})),f=Object(l.c)((function(e){return e.weatherModule.isCelcius})),d=b.temp,h=j.cToF(d);return Object(a.useEffect)((function(){b.isFavourite?s(!0):s(!1),O(b.cityName)}),[r]),Object(C.jsx)("div",{className:"main-curr-day",children:Object(C.jsxs)("div",{className:"curr-day-container",children:[Object(C.jsxs)("div",{className:"left-section",children:[Object(C.jsx)("img",{className:"main-img",src:"https://developer.accuweather.com/sites/default/files/".concat(j.padNum(b.icon),"-s.png"),alt:""}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("h1",{children:[" ",b.cityName," "]}),f?Object(C.jsxs)("h3",{children:[" ",h,"C\xb0"]}):Object(C.jsxs)("h3",{children:[d,"F\xb0 "]})]})]}),Object(C.jsxs)("div",{className:"right-section",children:[r?Object(C.jsx)(L.a,{className:"full-icon"}):Object(C.jsx)(D.a,{className:"icon",children:" "}),Object(C.jsx)(A.a,{variant:"contained",onClick:function(){var e,c;t((e=b,function(t){e.isFavourite=!e.isFavourite,t({type:"TOGGLE_FAVOURITE_CITY",cityObject:e})})),s(b.isFavourite),t((c=b,function(e){e({type:"SET_FAVOURITES",finalFavourites:m.checkFavourites(c)})}))},children:"Save to favourites"})]})]})})},V=(c(143),function(e){var t=e.item,c=t.Day.IconPhrase,a=t.Temperature.Minimum.Value,n=t.Temperature.Maximum.Value,r=Object(l.c)((function(e){return e.weatherModule.isCelcius})),s=new Date(t.Date).getDay(),i=new Array(7);i[0]="Sunday",i[1]="Monday",i[2]="Tuesday",i[3]="Wednseday",i[4]="Thursday",i[5]="Friday",i[6]="Saturday";var o=j.cToF(a),u=j.cToF(n);return t?Object(C.jsxs)("div",{className:"single-day-container",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(j.padNum(t.Day.Icon),"-s.png"),alt:c})}),Object(C.jsxs)("h3",{children:[" ",i[s]]}),Object(C.jsx)("h5",{children:c}),r?Object(C.jsxs)("p",{children:[o,"C\xb0 - ",u,"C\xb0"]}):Object(C.jsxs)("p",{children:[a,"F\xb0 - ",n,"F\xb0"]})]}):Object(C.jsx)("div",{children:" Loading ... "})}),U=(c(144),function(){var e=Object(l.c)((function(e){return e.weatherModule.currentCityKey})),t=Object(l.c)((function(e){return e.weatherModule.fiveDaysForecast})),c=Object(l.b)();return Object(a.useEffect)((function(){c(g(e))}),[e]),Object(C.jsx)("div",{className:"five-days-container",children:t.map((function(e,t){return Object(C.jsx)(V,{item:e},t)}))})}),Y=c(200),G=c(199),P=(c(145),function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)("215854"),s=Object(u.a)(r,2),i=s[0],o=s[1],j=Object(a.useState)("Tel Aviv"),O=Object(u.a)(j,2),b=O[0],f=O[1],p=Object(a.useState)(""),v=Object(u.a)(p,2),y=v[0],x=v[1],S=Object(a.useState)(!0),T=Object(u.a)(S,2),N=T[0],F=T[1],E=Object(l.c)((function(e){return e.weatherModule.currentLocation})),A=Object(l.c)((function(e){return e.weatherModule.currentCityKey})),R=Object(l.b)(),D=Object(l.c)((function(e){return e.weatherModule.searchOptions}));return Object(a.useEffect)((function(){var e=m.organizeAutoComplete(D);f(E),o(A),n(e),R(function(e,t){return function(){var c=Object(h.a)(d.a.mark((function c(a){var n,r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.getCurrentLocation(t);case 2:n=c.sent,r=n[0].Temperature.Imperial.Value,s={cityName:e,cityKey:t,temp:r,icon:n[0].WeatherIcon,isFavourite:!1},a({type:"SET_SINGLE_FORECAST",singleNameKey:s});case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(b,i)),R(g(i))}),[D,i,b,y]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:y,children:[Object(C.jsxs)("div",{className:"input-header",children:[Object(C.jsx)("div",{className:"buttons-container",children:Object(C.jsxs)(k.a,{children:[Object(C.jsx)(I.a,{control:Object(C.jsx)(_.a,{defaultChecked:!0,onClick:function(){y.length?x(""):x("darkmode")}}),label:"Theme Switcher"}),Object(C.jsx)(I.a,{control:Object(C.jsx)(_.a,{defaultChecked:!0,color:"warning",onClick:function(){var e;F(!N),R((e=N,function(t){t({type:"SET_TO_CELCIUS",boolean:e})}))}}),label:"Temperature Switcher"})]})}),Object(C.jsx)("h2",{className:"header-search",children:"Search The Weather In Any City"}),Object(C.jsx)(G.a,{className:"input",disablePortal:!0,options:c,sx:{width:300},onInputChange:function(e){var t,c=e.target.value;R((t=c,function(){var e=Object(h.a)(d.a.mark((function e(c){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getAutoComplete(t);case 2:a=e.sent,c({type:"SET_SEARCH_OPTIONS",autoCompleteResult:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onChange:function(e,t){return c=t.Key,a=t.label,o(c),void f(a);var c,a},renderInput:function(e){return Object(C.jsx)(Y.a,Object(w.a)(Object(w.a)({},e),{},{label:"City"}))}})]}),Object(C.jsx)(K,{cityName:b}),Object(C.jsx)(U,{}),Object(C.jsx)("h4",{className:"by",children:" Made by Arthur Shtein"})]})})});var J=function(){return Object(C.jsxs)(i.a,{children:[Object(C.jsx)(E,{}),Object(C.jsx)("main",{children:Object(C.jsxs)(o.c,{children:[Object(C.jsx)(o.a,{excact:!0,path:"/favourites",component:F}),Object(C.jsx)(o.a,{excact:!0,path:"/",component:P})]})})]})},W=c(56),z=c(95),B={currentLocation:"Tel Aviv",currentCityKey:"215854",fiveDaysForecast:[],searchOptions:[],singleForecast:{},favourites:[],isCelcius:!1};var H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.c,X=Object(W.b)({weatherModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_LOCATION":return Object(w.a)(Object(w.a)({},e),{},{currentLocation:t.name});case"SET_SEARCH_OPTIONS":return Object(w.a)(Object(w.a)({},e),{},{searchOptions:t.autoCompleteResult});case"SET_CITY_KEY":return Object(w.a)(Object(w.a)({},e),{},{currentCityKey:t.key});case"SET_FIVE_DAYS_FORECAST":return Object(w.a)(Object(w.a)({},e),{},{fiveDaysForecast:t.fiveDaysResult});case"SET_SINGLE_FORECAST":return Object(w.a)(Object(w.a)({},e),{},{singleForecast:t.singleNameKey});case"SET_FAVOURITES":return Object(w.a)(Object(w.a)({},e),{},{favourites:t.finalFavourites});case"SET_TO_CELCIUS":return Object(w.a)(Object(w.a)({},e),{},{isCelcius:t.boolean});case"TOGGLE_FAVOURITE_CITY":return Object(w.a)(Object(w.a)({},e),{},{singleForecast:t.cityObject});default:return e}}}),q=Object(W.d)(X,H(Object(W.a)(z.a)));s.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(l.a,{store:q,children:Object(C.jsx)(J,{})})}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.7c9a7816.chunk.js.map